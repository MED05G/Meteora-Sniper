{"version":3,"file":"Semaphore.js","sourceRoot":"","sources":["../src/Semaphore.ts"],"names":[],"mappings":"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"}